<!-- Project 2 HTML Code -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Project 2</title>
        <script src="https://d3js.org/d3.v5.min.js"></script> <!-- D3 JS-->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> <!-- Plotly JS-->
        <!--<link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" -->
            <!--integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
            crossorigin="anonymous" -->

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
            
        <!-- Import CSS for style-->
        <link rel="stylesheet" href="../static/css/style.css">
    </head>
    
    <body>

        <!-- Add in project title -->
        <h3>Visualizations Project 2: Violent Crimes in Tucson, Arizona</h3>
     
        <!-- Add in summary -->
        <p>Our project is an analysis of Tucson PD’s publicly available data to explore whether or not the agency’s budgetary woes, manpower issues, and realignment of purpose have affected their day-to-day operations as far as: events (whether calls for service or officer initiated), arrests, use of force incidents, etc. To accomplish this, we will be providing visualizations that a user can explore.</p>
        
        <!---------------------------------------------------------->
        <!---------------------------------------------------------->
        <!---------------------------------------------------------->
        <!-- second row -->
        <div class="row">

            <!-- Add in dropdown button with selections -->
            <div class="col-md-4">
                <div class="well">
                    <h5>Arrest Year:</h5>
                        <select name="Year" onchange="optionChanged(this.value)">
                            <option value="2019">2019</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                        </select>
                </div>
                <img src="{{ url_for('static', filename='tucsonpd.jpg') }}" alt="Tucson PD crime scene"/>
            </div>
             
            <!-- Add in interactive chart 1 -->
            <div class="col-md-8">
                <div id="int-plot1"></div>
            </div> 

            <!-- Add in interactive chart 2 -->
            <!-- <div class="col-md-4">
                <div id="int-plot2"></div>
            </div>  -->

        </div>

        <!---------------------------------------------------------->
        <!---------------------------------------------------------->
        <!---------------------------------------------------------->

        <!-- last row -->
        <div class="row">
            <!-- Add in fixed chart 1 -->
            <div class="col-md-6">
                <div id="budget-plot"></div>
            </div> 

            <!-- Add in fixed chart 2 -->
            <!-- <div class="col-md-4">
                <div id="arrests-plot"></div>
            </div>  -->

            <!-- Add in fixed chart 3 -->
            <div class="col-md-6">
                <div id="other-plot"></div>
            </div> 

        </div>
        
        <div id="bar-plot"></div>
       
        
        <!-- Import JS -->
        <!-- script src="app.js"></script> -->
        <script src="api/budget.json"></script>
        <script src="api/arrests.json"></script>
        <script src="{{ url_for('static', filename='js/budget.js') }}"></script>
        <script src="{{ url_for('static', filename='js/arrests_gender_years.js') }}"></script>
        <script src="{{ url_for('static', filename='js/app.js') }}"></script>
		
        <script>
            function optionChanged(year){
                if (year == 2019){
                    plot2019();
                }
                else if (year == 2020){
                    plot2020();
                }
                else {
                    plot2021();
                }   
            };
          </script>
		<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
		<script type="text/javascript">
		(function() {
			var po = document.createElement('script'); po.async = true;
			po.src = 'https://apis.google.com/js/plusone.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
		})();
		</script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> 
		<script src="{{ url_for('static', filename='js/screenfull.js') }}"></script>
		<script>
		$(function () {
			$('#supported').text('Supported/allowed: ' + !!screenfull.isEnabled);

			if (!screenfull.isEnabled) {
				return false;
			}

			$('#request').click(function () {
				screenfull.request($('#container')[0]).then(function () {
					console.log('Browser entered fullscreen mode')
				})
				// Does not require jQuery. Can be used like this too:
				// screenfull.request(document.getElementById('container'));
			});

			$('#exit').click(function () {
				screenfull.exit().then(function () {
					console.log('Browser exited fullscreen mode')
				});
			});

			$('#toggle').click(function () {
				screenfull.toggle($('#container')[0]).then(function () {
					console.log('Fullscreen mode: ' + (screenfull.isFullscreen ? 'enabled' : 'disabled'))
				});
			});

			$('#request2').click(function () {
				screenfull.request();
			});

			$('#demo-img').click(function () {
				screenfull.toggle(this);
			});

			function fullscreenchange() {
				var elem = screenfull.element;

				$('#status').text('Is fullscreen: ' + screenfull.isFullscreen);

				if (elem) {
					$('#element').text('Element: ' + elem.localName + (elem.id ? '#' + elem.id : ''));
				}

				if (!screenfull.isFullscreen) {
					$('#external-iframe').remove();
					document.body.style.overflow = 'auto';
				}
			}

			screenfull.on('change', fullscreenchange);

			// Set the initial values
			fullscreenchange();
		});
		</script>
		<script>
			var _gaq=[['_setAccount','UA-25562592-1'],['_trackPageview'],['_trackPageLoadTime']];
			(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
			g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
			s.parentNode.insertBefore(g,s)}(document,'script'));
		</script>
    </body>
</html>
